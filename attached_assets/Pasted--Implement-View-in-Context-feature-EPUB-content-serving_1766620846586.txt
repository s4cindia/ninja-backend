 Implement View in Context feature - EPUB content serving endpoint (Issue #39).

  1. Create src/services/epub/epub-content.service.ts:
     ```typescript
     import * as fs from 'fs';
     import * as path from 'path';
     import AdmZip from 'adm-zip';
     import prisma from '../../lib/prisma';
     import { logger } from '../../lib/logger';

     export class EpubContentService {
       // Extract and return content from a specific file within the EPUB
       async getContent(jobId: string, filePath: string, userId?: string): Promise<{ content: string; contentType: string } | null> {
         // 1. Verify job exists and user has access
         const job = await prisma.job.findFirst({
           where: { id: jobId, ...(userId && { userId }) },
         });
         if (!job) throw new Error('Job not found or access denied');

         // 2. Get EPUB file path from job
         const epubPath = (job.output as any)?.epubPath || job.inputPath;
         if (!epubPath || !fs.existsSync(epubPath)) {
           throw new Error('EPUB file not found');
         }

         // 3. Validate filePath to prevent path traversal
         const normalizedPath = path.normalize(filePath).replace(/^(\.\.(\/|\\|$))+/, '');
         if (normalizedPath.includes('..')) {
           throw new Error('Invalid file path');
         }

         // 4. Extract and return the file content
         const zip = new AdmZip(epubPath);
         const entry = zip.getEntry(normalizedPath);
         if (!entry) {
           throw new Error('File not found in EPUB');
         }

         const content = entry.getData().toString('utf8');
         const contentType = this.getContentType(normalizedPath);

         return { content, contentType };
       }

       private getContentType(filePath: string): string {
         const ext = path.extname(filePath).toLowerCase();
         const types: Record<string, string> = {
           '.xhtml': 'application/xhtml+xml',
           '.html': 'text/html',
           '.htm': 'text/html',
           '.xml': 'application/xml',
           '.css': 'text/css',
           '.js': 'application/javascript',
           '.svg': 'image/svg+xml',
           '.png': 'image/png',
           '.jpg': 'image/jpeg',
           '.jpeg': 'image/jpeg',
           '.gif': 'image/gif',
         };
         return types[ext] || 'text/plain';
       }
     }

     export const epubContentService = new EpubContentService();

  2. Create src/controllers/epub-content.controller.ts:
  import { Request, Response } from 'express';
  import { epubContentService } from '../services/epub/epub-content.service';
  import { logger } from '../lib/logger';

  export const epubContentController = {
    async getContent(req: Request, res: Response) {
      try {
        const { jobId } = req.params;
        const filePath = req.query.path as string;
        const userId = req.user?.id;

        if (!filePath) {
          return res.status(400).json({ error: 'File path required' });
        }

        const result = await epubContentService.getContent(jobId, filePath, userId);
        if (!result) {
          return res.status(404).json({ error: 'Content not found' });
        }

        res.setHeader('Content-Type', result.contentType);
        res.send(result.content);
      } catch (error) {
        logger.error('Failed to get EPUB content', error as Error);
        res.status(500).json({ error: (error as Error).message });
      }
    },
  };
  3. Add route in src/routes/epub.routes.ts:
  import { epubContentController } from '../controllers/epub-content.controller';

  // Add this route (authenticated)
  router.get('/job/:jobId/content', authenticate, epubContentController.getContent);
  4. Install adm-zip if not present: npm install adm-zip @types/adm-zip
