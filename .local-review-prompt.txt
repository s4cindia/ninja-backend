# Code Review Issues

## Changed Files:
- src/controllers/editorial-overview.controller.ts
- src/controllers/job.controller.ts
- src/index.ts
- src/routes/editorial.routes.ts
- src/routes/index.ts
- src/services/ai/gemini.service.ts
- src/services/citation/citation-detection.service.ts
- src/services/citation/citation-stylesheet-detection.service.ts
- src/services/citation/citation.controller.ts
- src/services/citation/citation.routes.ts
- src/services/s3.service.ts
- src/services/shared/document-parser.ts
- src/services/shared/editorial-ai-client.ts
- src/utils/citation-highlighter.ts
- src/utils/html-sanitizer.ts

## Issues Found:

### TypeScript Errors (226):
```
src/controllers/acr.controller.ts(364,26): error TS2353: Object literal may only specify known properties, and 'criteria' does not exist in type 'AcrJobInclude<DefaultArgs>'.
src/controllers/acr.controller.ts(381,38): error TS2339: Property 'criteria' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; status: string; userId: string; jobId: string; edition: string; documentTitle: string | null; }'.
src/controllers/acr.controller.ts(383,56): error TS2339: Property 'criteria' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; status: string; userId: string; jobId: string; edition: string; documentTitle: string | null; }'.
src/controllers/acr.controller.ts(383,69): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/controllers/acr.controller.ts(536,20): error TS2353: Object literal may only specify known properties, and 'criteria' does not exist in type 'AcrJobInclude<DefaultArgs>'.
src/controllers/acr.controller.ts(541,19): error TS2339: Property 'criteria' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; status: string; userId: string; jobId: string; edition: string; documentTitle: string | null; }'.
src/controllers/acr.controller.ts(542,37): error TS2339: Property 'criteria' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; status: string; userId: string; jobId: string; edition: string; documentTitle: string | null; }'.
src/controllers/acr.controller.ts(1137,9): error TS2322: Type '{ tenantId: string; userId: string; type: "EPUB_ACCESSIBILITY"; status: "PROCESSING"; input: { fileName: string; mimeType: string; size: number; }; startedAt: Date; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/controllers/acr.controller.ts(1733,20): error TS2353: Object literal may only specify known properties, and 'criteria' does not exist in type 'AcrJobInclude<DefaultArgs>'.
src/controllers/acr.controller.ts(1763,53): error TS2339: Property 'criteria' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; status: string; userId: string; jobId: string; edition: string; documentTitle: string | null; }'.
src/controllers/acr.controller.ts(1763,67): error TS7006: Parameter 'review' implicitly has an 'any' type.
src/controllers/alt-text.controller.ts(43,9): error TS2322: Type '{ imageId: any; jobId: any; shortAlt: string; extendedAlt: string; confidence: number; flags: AltTextFlag[]; aiModel: string; status: string; }' is not assignable to type '(Without<GeneratedAltTextCreateInput, GeneratedAltTextUncheckedCreateInput> & GeneratedAltTextUncheckedCreateInput) | (Without<...> & GeneratedAltTextCreateInput)'.
src/controllers/alt-text.controller.ts(172,13): error TS2322: Type '{ imageId: string; jobId: string; shortAlt: string; extendedAlt: string; confidence: number; flags: AltTextFlag[]; aiModel: string; status: string; }' is not assignable to type '(Without<GeneratedAltTextCreateInput, GeneratedAltTextUncheckedCreateInput> & GeneratedAltTextUncheckedCreateInput) | (Without<...> & GeneratedAltTextCreateInput)'.
src/controllers/alt-text.controller.ts(312,9): error TS2322: Type '{ imageId: any; jobId: any; shortAlt: string; extendedAlt: string; confidence: number; flags: AltTextFlag[]; aiModel: string; status: string; }' is not assignable to type '(Without<GeneratedAltTextCreateInput, GeneratedAltTextUncheckedCreateInput> & GeneratedAltTextUncheckedCreateInput) | (Without<...> & GeneratedAltTextCreateInput)'.
src/controllers/alt-text.controller.ts(376,9): error TS2322: Type '{ imageId: any; jobId: any; shortAlt: string; extendedAlt: string; confidence: number; flags: string[]; aiModel: string; status: string; }' is not assignable to type '(Without<GeneratedAltTextCreateInput, GeneratedAltTextUncheckedCreateInput> & GeneratedAltTextUncheckedCreateInput) | (Without<...> & GeneratedAltTextCreateInput)'.
src/controllers/alt-text.controller.ts(822,9): error TS2322: Type '{ imageId: string; jobId: string; altTextId: string; trigger: any; plainText: string; markdown: string; html: string; wordCount: number; sections: Prisma.InputJsonValue; aiModel: string; }' is not assignable to type '(Without<LongDescriptionCreateInput, LongDescriptionUncheckedCreateInput> & LongDescriptionUncheckedCreateInput) | (Without<...> & LongDescriptionCreateInput)'.
src/controllers/batch.controller.ts(430,11): error TS2561: Object literal may only specify known properties, but 'batch' does not exist in type 'BatchFileWhereInput'. Did you mean to write 'Batch'?
src/controllers/batch.controller.ts(435,11): error TS2561: Object literal may only specify known properties, but 'batch' does not exist in type 'BatchFileInclude<DefaultArgs>'. Did you mean to write 'Batch'?
src/controllers/batch.controller.ts(559,21): error TS2551: Property 'batch' does not exist on type '{ error: string | null; id: string; status: BatchFileStatus; fileSize: number; originalName: string; mimeType: string; storageType: string; storagePath: string; fileName: string; ... 21 more ...; remediationCompletedAt: Date | null; }'. Did you mean 'batchId'?
src/controllers/batch.controller.ts(591,11): error TS2561: Object literal may only specify known properties, but 'batch' does not exist in type 'BatchFileWhereInput'. Did you mean to write 'Batch'?
src/controllers/citation-reference.controller.ts(7,10): error TS2614: Module '"../lib/prisma"' has no exported member 'prisma'. Did you mean to use 'import prisma from "../lib/prisma"' instead?
src/controllers/citation-reference.controller.ts(34,39): error TS2339: Property 'errors' does not exist on type 'ZodError<{ correctedText: string; changeNote?: string | undefined; }>'.
src/controllers/citation.controller.ts(147,9): error TS2322: Type '{ id: string; jobId: string; number: number; originalText: string; correctedText: null; doi: null; doiVerified: boolean; verificationStatus: "PENDING"; confidence: null; metadata: null; changes: null; needsReview: boolean; }[]' is not assignable to type 'CitationReferenceCreateManyInput | CitationReferenceCreateManyInput[]'.
src/controllers/confidence.controller.ts(29,11): error TS2561: Object literal may only specify known properties, but 'validationResults' does not exist in type 'JobInclude<DefaultArgs>'. Did you mean to write 'ValidationResult'?
src/controllers/confidence.controller.ts(47,15): error TS2339: Property 'validationResults' does not exist on type '{ error: string | null; id: string; tenantId: string; createdAt: Date; updatedAt: Date; output: JsonValue; type: JobType; input: JsonValue; productId: string | null; ... 9 more ...; isBatchAcr: boolean; }'.
src/controllers/confidence.controller.ts(47,40): error TS2339: Property 'validationResults' does not exist on type '{ error: string | null; id: string; tenantId: string; createdAt: Date; updatedAt: Date; output: JsonValue; type: JobType; input: JsonValue; productId: string | null; ... 9 more ...; isBatchAcr: boolean; }'.
src/controllers/confidence.controller.ts(50,34): error TS2339: Property 'validationResults' does not exist on type '{ error: string | null; id: string; tenantId: string; createdAt: Date; updatedAt: Date; output: JsonValue; type: JobType; input: JsonValue; productId: string | null; ... 9 more ...; isBatchAcr: boolean; }'.
src/controllers/confidence.controller.ts(183,11): error TS2561: Object literal may only specify known properties, but 'tenant' does not exist in type 'JobWhereInput'. Did you mean to write 'Tenant'?
src/controllers/editorial-overview.controller.ts(52,15): error TS2561: Object literal may only specify known properties, but 'citations' does not exist in type 'EditorialDocumentCountOutputTypeSelect<DefaultArgs>'. Did you mean to write 'Citation'?
src/controllers/editorial-overview.controller.ts(138,33): error TS2339: Property '_count' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/controllers/editorial-overview.controller.ts(139,35): error TS2339: Property '_count' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/controllers/editorial-overview.controller.ts(140,35): error TS2339: Property '_count' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/controllers/editorial-overview.controller.ts(141,40): error TS2339: Property '_count' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/controllers/editorial-overview.controller.ts(198,17): error TS2561: Object literal may only specify known properties, but 'citations' does not exist in type 'EditorialDocumentCountOutputTypeSelect<DefaultArgs>'. Did you mean to write 'Citation'?
src/controllers/editorial-overview.controller.ts(226,30): error TS2339: Property '_count' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/controllers/editorial-overview.controller.ts(227,32): error TS2339: Property '_count' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/controllers/editorial-overview.controller.ts(228,37): error TS2339: Property '_count' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/controllers/editorial-overview.controller.ts(872,34): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/controllers/editorial-overview.controller.ts(873,35): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/controllers/epub.controller.ts(150,9): error TS2322: Type '{ tenantId: string; userId: string; type: "EPUB_ACCESSIBILITY"; status: "PROCESSING"; input: { fileName: string; mimeType: string; size: number; }; startedAt: Date; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/controllers/epub.controller.ts(284,9): error TS2322: Type '{ tenantId: string; userId: string; type: "EPUB_ACCESSIBILITY"; status: "QUEUED"; input: { fileId: string; fileName: string; mimeType: string; size: number; storageType: $Enums.StorageType; storagePath: string | null; }; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/controllers/epub.controller.ts(2105,30): error TS2561: Object literal may only specify known properties, but 'validationResult' does not exist in type 'IssueInclude<DefaultArgs>'. Did you mean to write 'ValidationResult'?
src/controllers/epub.controller.ts(2108,36): error TS2551: Property 'validationResult' does not exist on type '{ id: string; createdAt: Date; status: IssueStatus; code: string | null; description: string; location: string | null; severity: IssueSeverity; wcagCriteria: string | null; ... 8 more ...; quickFixable: boolean; }'. Did you mean 'validationResultId'?
src/controllers/file.controller.ts(208,11): error TS2322: Type '{ tenantId: string; userId: string; type: "EPUB_ACCESSIBILITY"; status: "PROCESSING"; input: { fileId: string; fileName: string; filePath: string; }; startedAt: Date; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/controllers/file.controller.ts(389,15): error TS2322: Type '{ tenantId: string; userId: string; type: "EPUB_ACCESSIBILITY"; status: "PROCESSING"; input: { fileId: string; fileName: string; filePath: string; }; startedAt: Date; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/controllers/job.controller.ts(285,11): error TS2561: Object literal may only specify known properties, but 'validationResults' does not exist in type 'JobSelect<DefaultArgs>'. Did you mean to write 'ValidationResult'?
src/controllers/job.controller.ts(327,34): error TS2339: Property 'validationResults' does not exist on type '{ error: string | null; id: string; tenantId: string; createdAt: Date; updatedAt: Date; output: JsonValue; type: JobType; input: JsonValue; productId: string | null; ... 9 more ...; isBatchAcr: boolean; }'.
src/controllers/upload.controller.ts(38,7): error TS2322: Type '{ tenantId: string; filename: any; originalName: any; mimeType: any; size: any; path: string; status: "PENDING_UPLOAD"; storagePath: string; storageType: "S3"; }' is not assignable to type '(Without<FileCreateInput, FileUncheckedCreateInput> & FileUncheckedCreateInput) | (Without<...> & FileCreateInput)'.
src/index.ts(25,16): error TS2339: Property 'env' does not exist on type 'Config'.
src/routes/comparison.routes.ts(76,9): error TS2561: Object literal may only specify known properties, but 'tenant' does not exist in type 'JobWhereInput'. Did you mean to write 'Tenant'?
src/routes/comparison.routes.ts(148,9): error TS2561: Object literal may only specify known properties, but 'tenant' does not exist in type 'JobWhereInput'. Did you mean to write 'Tenant'?
src/routes/comparison.routes.ts(186,9): error TS2561: Object literal may only specify known properties, but 'tenant' does not exist in type 'JobWhereInput'. Did you mean to write 'Tenant'?
src/services/acr.service.ts(162,7): error TS2322: Type '{ jobId: string; tenantId: string; userId: string; edition: string; documentTitle: string; status: string; }' is not assignable to type '(Without<AcrJobCreateInput, AcrJobUncheckedCreateInput> & AcrJobUncheckedCreateInput) | (Without<...> & AcrJobCreateInput)'.
src/services/acr.service.ts(181,9): error TS2322: Type '{ acrJobId: string; criterionId: string; criterionNumber: string; criterionName: string; level: "A" | "AA" | "AAA" | "EU"; confidence: number; aiStatus: string; evidence: { source: string; description: string; auditIssues: { ...; }[]; affectedFiles: any[]; issueCount: number; } | undefined; }' is not assignable to type '(Without<AcrCriterionReviewCreateInput, AcrCriterionReviewUncheckedCreateInput> & AcrCriterionReviewUncheckedCreateInput) | (Without<...> & AcrCriterionReviewCreateInput)'.
src/services/acr.service.ts(261,9): error TS2353: Object literal may only specify known properties, and 'criteria' does not exist in type 'AcrJobInclude<DefaultArgs>'.
src/services/acr.service.ts(273,29): error TS2339: Property 'criteria' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; status: string; userId: string; jobId: string; edition: string; documentTitle: string | null; }'.
src/services/acr.service.ts(273,42): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(289,33): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(291,31): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(292,45): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(293,36): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(294,31): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(297,35): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(298,45): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(299,43): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(300,41): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(326,9): error TS2353: Object literal may only specify known properties, and 'criteria' does not exist in type 'AcrJobInclude<DefaultArgs>'.
src/services/acr.service.ts(338,29): error TS2339: Property 'criteria' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; status: string; userId: string; jobId: string; edition: string; documentTitle: string | null; }'.
src/services/acr.service.ts(338,42): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(354,33): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(356,31): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(357,45): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(358,36): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(359,31): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(362,35): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(363,45): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(364,43): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(365,41): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/acr.service.ts(706,9): error TS2561: Object literal may only specify known properties, but 'validationResults' does not exist in type 'JobInclude<DefaultArgs>'. Did you mean to write 'ValidationResult'?
src/services/acr.service.ts(722,27): error TS2339: Property 'validationResults' does not exist on type '{ error: string | null; id: string; tenantId: string; createdAt: Date; updatedAt: Date; output: JsonValue; type: JobType; input: JsonValue; productId: string | null; ... 9 more ...; isBatchAcr: boolean; }'.
src/services/acr.service.ts(722,53): error TS7006: Parameter 'vr' implicitly has an 'any' type.
src/services/acr.service.ts(723,21): error TS7006: Parameter 'issue' implicitly has an 'any' type.
src/services/acr/acr-versioning.service.ts(195,13): error TS2322: Type '{ acrId: string; version: number; createdBy: string; changeLog: import("@prisma/client").Prisma.InputJsonValue; snapshot: import("@prisma/client").Prisma.InputJsonValue; }' is not assignable to type '(Without<AcrVersionCreateInput, AcrVersionUncheckedCreateInput> & AcrVersionUncheckedCreateInput) | (Without<...> & AcrVersionCreateInput)'.
src/services/acr/batch-acr-generator.service.ts(44,9): error TS2353: Object literal may only specify known properties, and 'files' does not exist in type 'BatchInclude<DefaultArgs>'.
src/services/acr/batch-acr-generator.service.ts(72,36): error TS2339: Property 'files' does not exist on type '{ id: string; tenantId: string; createdAt: Date; name: string; status: BatchStatus; userId: string; startedAt: Date | null; completedAt: Date | null; totalFiles: number; ... 14 more ...; acrGeneratedAt: Date | null; }'.
src/services/acr/batch-acr-generator.service.ts(72,49): error TS7006: Parameter 'f' implicitly has an 'any' type.
src/services/acr/batch-acr-generator.service.ts(102,35): error TS2339: Property 'files' does not exist on type '{ id: string; tenantId: string; createdAt: Date; name: string; status: BatchStatus; userId: string; startedAt: Date | null; completedAt: Date | null; totalFiles: number; ... 14 more ...; acrGeneratedAt: Date | null; }'.
src/services/acr/batch-acr-generator.service.ts(102,48): error TS7006: Parameter 'f' implicitly has an 'any' type.
src/services/acr/batch-acr-generator.service.ts(174,35): error TS2339: Property 'files' does not exist on type '{ id: string; tenantId: string; createdAt: Date; name: string; status: BatchStatus; userId: string; startedAt: Date | null; completedAt: Date | null; totalFiles: number; ... 14 more ...; acrGeneratedAt: Date | null; }'.
src/services/acr/batch-acr-generator.service.ts(174,48): error TS7006: Parameter 'f' implicitly has an 'any' type.
src/services/acr/batch-acr-generator.service.ts(182,48): error TS7006: Parameter 'f' implicitly has an 'any' type.
src/services/acr/batch-acr-generator.service.ts(190,34): error TS7006: Parameter 'file' implicitly has an 'any' type.
src/services/acr/batch-acr-generator.service.ts(282,71): error TS7006: Parameter 'i' implicitly has an 'any' type.
src/services/acr/batch-acr-generator.service.ts(408,42): error TS7006: Parameter 'j' implicitly has an 'any' type.
src/services/acr/batch-acr-generator.service.ts(415,42): error TS7006: Parameter 'j' implicitly has an 'any' type.
src/services/acr/batch-acr-generator.service.ts(428,7): error TS2322: Type '{ tenantId: string; userId: string; type: "ACR_WORKFLOW"; status: "PROCESSING"; input: import("@prisma/client").Prisma.InputJsonValue; output: import("@prisma/client").Prisma.InputJsonValue; startedAt: Date; batchSourceJobIds: any; isBatchAcr: true; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/acr/batch-acr-generator.service.ts(440,47): error TS7006: Parameter 'j' implicitly has an 'any' type.
src/services/acr/batch-acr-generator.service.ts(448,7): error TS2322: Type '{ jobId: string; tenantId: string; userId: string; edition: "VPAT2.5-508" | "VPAT2.5-WCAG" | "VPAT2.5-EU" | "VPAT2.5-INT"; documentTitle: string; status: string; }' is not assignable to type '(Without<AcrJobCreateInput, AcrJobUncheckedCreateInput> & AcrJobUncheckedCreateInput) | (Without<...> & AcrJobCreateInput)'.
src/services/acr/batch-acr-generator.service.ts(462,9): error TS2322: Type '{ acrJobId: string; criterionId: string; criterionNumber: string; criterionName: string; level: "A" | "AA" | "AAA"; conformanceLevel: ConformanceLevel; reviewerNotes: string; confidence: number; aiStatus: string; }' is not assignable to type '(Without<AcrCriterionReviewCreateInput, AcrCriterionReviewUncheckedCreateInput> & AcrCriterionReviewUncheckedCreateInput) | (Without<...> & AcrCriterionReviewCreateInput)'.
src/services/acr/human-verification.service.ts(172,11): error TS2561: Object literal may only specify known properties, but 'validationResults' does not exist in type 'JobInclude<DefaultArgs>'. Did you mean to write 'ValidationResult'?
src/services/acr/human-verification.service.ts(203,32): error TS2339: Property 'validationResults' does not exist on type '{ error: string | null; id: string; tenantId: string; createdAt: Date; updatedAt: Date; output: JsonValue; type: JobType; input: JsonValue; productId: string | null; ... 9 more ...; isBatchAcr: boolean; }'.
src/services/acr/human-verification.service.ts(384,11): error TS2353: Object literal may only specify known properties, and 'criteria' does not exist in type 'AcrJobInclude<DefaultArgs>'.
src/services/acr/human-verification.service.ts(388,28): error TS2339: Property 'criteria' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; status: string; userId: string; jobId: string; edition: string; documentTitle: string | null; }'.
src/services/acr/human-verification.service.ts(390,32): error TS2339: Property 'criteria' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; status: string; userId: string; jobId: string; edition: string; documentTitle: string | null; }'.
src/services/artifact.service.ts(36,7): error TS2322: Type '{ jobId: string; fileId: string | undefined; type: ArtifactType; name: string; data: Prisma.InputJsonValue; size: number | undefined; }' is not assignable to type '(Without<ArtifactCreateInput, ArtifactUncheckedCreateInput> & ArtifactUncheckedCreateInput) | (Without<...> & ArtifactCreateInput)'.
src/services/auth.service.ts(63,7): error TS2322: Type '{ email: string; password: string; firstName: string; lastName: string; tenantId: string; role: "USER"; }' is not assignable to type '(Without<UserCreateInput, UserUncheckedCreateInput> & UserUncheckedCreateInput) | (Without<...> & UserCreateInput)'.
src/services/auth.service.ts(163,9): error TS2561: Object literal may only specify known properties, but 'tenant' does not exist in type 'UserSelect<DefaultArgs>'. Did you mean to write 'Tenant'?
src/services/batch/batch-file.service.ts(24,9): error TS2322: Type '{ batchId: string; fileName: string; originalName: string; fileSize: number; mimeType: string; storagePath: string; storageType: string; status: "UPLOADED"; }' is not assignable to type '(Without<BatchFileCreateInput, BatchFileUncheckedCreateInput> & BatchFileUncheckedCreateInput) | (Without<...> & BatchFileCreateInput)'.
src/services/batch/batch-file.service.ts(81,18): error TS2561: Object literal may only specify known properties, but 'batch' does not exist in type 'BatchFileInclude<DefaultArgs>'. Did you mean to write 'Batch'?
src/services/batch/batch-file.service.ts(88,14): error TS2551: Property 'batch' does not exist on type '{ error: string | null; id: string; status: BatchFileStatus; fileSize: number; originalName: string; mimeType: string; storageType: string; storagePath: string; fileName: string; ... 21 more ...; remediationCompletedAt: Date | null; }'. Did you mean 'batchId'?
src/services/batch/batch-orchestrator.service.ts(19,7): error TS2322: Type '{ tenantId: string; userId: string; name: string; status: "DRAFT"; }' is not assignable to type '(Without<BatchCreateInput, BatchUncheckedCreateInput> & BatchUncheckedCreateInput) | (Without<...> & BatchCreateInput)'.
src/services/batch/batch-orchestrator.service.ts(105,18): error TS2353: Object literal may only specify known properties, and 'files' does not exist in type 'BatchInclude<DefaultArgs>'.
src/services/batch/batch-orchestrator.service.ts(112,5): error TS2322: Type '{ id: string; tenantId: string; createdAt: Date; name: string; status: BatchStatus; userId: string; startedAt: Date | null; completedAt: Date | null; totalFiles: number; ... 14 more ...; acrGeneratedAt: Date | null; }' is not assignable to type '{ id: string; tenantId: string; createdAt: Date; name: string; status: BatchStatus; userId: string; startedAt: Date | null; completedAt: Date | null; totalFiles: number; ... 14 more ...; acrGeneratedAt: Date | null; } & { ...; }'.
src/services/batch/batch-orchestrator.service.ts(121,18): error TS2353: Object literal may only specify known properties, and 'files' does not exist in type 'BatchInclude<DefaultArgs>'.
src/services/batch/batch-orchestrator.service.ts(128,5): error TS2322: Type '{ id: string; tenantId: string; createdAt: Date; name: string; status: BatchStatus; userId: string; startedAt: Date | null; completedAt: Date | null; totalFiles: number; ... 14 more ...; acrGeneratedAt: Date | null; }' is not assignable to type '{ id: string; tenantId: string; createdAt: Date; name: string; status: BatchStatus; userId: string; startedAt: Date | null; completedAt: Date | null; totalFiles: number; ... 14 more ...; acrGeneratedAt: Date | null; } & { ...; }'.
src/services/batch/batch-orchestrator.service.ts(329,7): error TS2322: Type '{ tenantId: string; userId: string; type: "EPUB_ACCESSIBILITY"; status: "PROCESSING"; input: { fileName: string; batchId: string; batchFileId: string; }; startedAt: Date; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/batch/batch-quick-fix.service.ts(23,9): error TS2353: Object literal may only specify known properties, and 'files' does not exist in type 'BatchInclude<DefaultArgs>'.
src/services/batch/batch-quick-fix.service.ts(49,36): error TS2339: Property 'files' does not exist on type '{ id: string; tenantId: string; createdAt: Date; name: string; status: BatchStatus; userId: string; startedAt: Date | null; completedAt: Date | null; totalFiles: number; ... 14 more ...; acrGeneratedAt: Date | null; }'.
src/services/batch/batch-quick-fix.service.ts(49,49): error TS7006: Parameter 'f' implicitly has an 'any' type.
src/services/batch/batch-quick-fix.service.ts(246,9): error TS2561: Object literal may only specify known properties, but 'batch' does not exist in type 'BatchFileWhereInput'. Did you mean to write 'Batch'?
src/services/batch/batch-quick-fix.service.ts(248,18): error TS2561: Object literal may only specify known properties, but 'batch' does not exist in type 'BatchFileInclude<DefaultArgs>'. Did you mean to write 'Batch'?
src/services/batch/batch-quick-fix.service.ts(353,9): error TS2561: Object literal may only specify known properties, but 'batch' does not exist in type 'BatchFileWhereInput'. Did you mean to write 'Batch'?
src/services/batch/batch-quick-fix.service.ts(355,18): error TS2561: Object literal may only specify known properties, but 'batch' does not exist in type 'BatchFileInclude<DefaultArgs>'. Did you mean to write 'Batch'?
src/services/citation/citation-correction.service.ts(27,9): error TS2561: Object literal may only specify known properties, but 'citation' does not exist in type 'CitationValidationInclude<DefaultArgs>'. Did you mean to write 'Citation'?
src/services/citation/citation-correction.service.ts(36,20): error TS2551: Property 'document' does not exist on type '{ id: string; createdAt: Date; status: string; severity: string; resolvedBy: string | null; suggestedFix: string; originalText: string; explanation: string | null; citationId: string; ... 6 more ...; violationType: string; }'. Did you mean 'documentId'?
src/services/citation/citation-correction.service.ts(44,37): error TS2551: Property 'citation' does not exist on type '{ id: string; createdAt: Date; status: string; severity: string; resolvedBy: string | null; suggestedFix: string; originalText: string; explanation: string | null; citationId: string; ... 6 more ...; violationType: string; }'. Did you mean 'citationId'?
src/services/citation/citation-correction.service.ts(55,7): error TS2322: Type '{ documentId: string; citationId: string; changeType: string; beforeText: any; afterText: any; appliedBy: string; }' is not assignable to type '(Without<CitationChangeCreateInput, CitationChangeUncheckedCreateInput> & CitationChangeUncheckedCreateInput) | (Without<...> & CitationChangeCreateInput)'.
src/services/citation/citation-correction.service.ts(90,18): error TS2353: Object literal may only specify known properties, and 'document' does not exist in type 'CitationValidationInclude<DefaultArgs>'.
src/services/citation/citation-correction.service.ts(97,20): error TS2551: Property 'document' does not exist on type '{ id: string; createdAt: Date; status: string; severity: string; resolvedBy: string | null; suggestedFix: string; originalText: string; explanation: string | null; citationId: string; ... 6 more ...; violationType: string; }'. Did you mean 'documentId'?
src/services/citation/citation-correction.service.ts(119,9): error TS2561: Object literal may only specify known properties, but 'citation' does not exist in type 'CitationValidationInclude<DefaultArgs>'. Did you mean to write 'Citation'?
src/services/citation/citation-correction.service.ts(128,20): error TS2551: Property 'document' does not exist on type '{ id: string; createdAt: Date; status: string; severity: string; resolvedBy: string | null; suggestedFix: string; originalText: string; explanation: string | null; citationId: string; ... 6 more ...; violationType: string; }'. Did you mean 'documentId'?
src/services/citation/citation-correction.service.ts(132,37): error TS2551: Property 'citation' does not exist on type '{ id: string; createdAt: Date; status: string; severity: string; resolvedBy: string | null; suggestedFix: string; originalText: string; explanation: string | null; citationId: string; ... 6 more ...; violationType: string; }'. Did you mean 'citationId'?
src/services/citation/citation-correction.service.ts(140,7): error TS2322: Type '{ documentId: string; citationId: string; changeType: string; beforeText: any; afterText: string; appliedBy: string; }' is not assignable to type '(Without<CitationChangeCreateInput, CitationChangeUncheckedCreateInput> & CitationChangeUncheckedCreateInput) | (Without<...> & CitationChangeCreateInput)'.
src/services/citation/citation-correction.service.ts(193,20): error TS2561: Object literal may only specify known properties, but 'citation' does not exist in type 'CitationValidationInclude<DefaultArgs>'. Did you mean to write 'Citation'?
src/services/citation/citation-correction.service.ts(202,20): error TS2561: Object literal may only specify known properties, but 'citation' does not exist in type 'CitationValidationInclude<DefaultArgs>'. Did you mean to write 'Citation'?
src/services/citation/citation-correction.service.ts(246,18): error TS2353: Object literal may only specify known properties, and 'document' does not exist in type 'CitationChangeInclude<DefaultArgs>'.
src/services/citation/citation-correction.service.ts(253,16): error TS2551: Property 'document' does not exist on type '{ id: string; changeType: string; appliedAt: Date; appliedBy: string; citationId: string | null; documentId: string; beforeText: string; afterText: string; isReverted: boolean; revertedAt: Date | null; }'. Did you mean 'documentId'?
src/services/citation/citation-detection.service.ts(48,9): error TS2322: Type '{ tenantId: string; userId: string; type: "CITATION_DETECTION"; status: "PROCESSING"; input: { fileS3Key: string | undefined; presignedUrl: string | undefined; fileName: string; fileSize: number | undefined; mode: string; }; startedAt: Date; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/citation/citation-detection.service.ts(104,32): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-detection.service.ts(161,9): error TS2322: Type '{ tenantId: string; userId: string; type: "CITATION_DETECTION"; status: "PROCESSING"; input: { fileName: string; fileSize: number; }; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/citation/citation-detection.service.ts(186,37): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-detection.service.ts(230,9): error TS2561: Object literal may only specify known properties, but 'citations' does not exist in type 'EditorialDocumentInclude<DefaultArgs>'. Did you mean to write 'Citation'?
src/services/citation/citation-detection.service.ts(246,55): error TS2339: Property 'citations' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/services/citation/citation-detection.service.ts(262,9): error TS2561: Object literal may only specify known properties, but 'citations' does not exist in type 'EditorialDocumentInclude<DefaultArgs>'. Did you mean to write 'Citation'?
src/services/citation/citation-detection.service.ts(273,55): error TS2339: Property 'citations' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/services/citation/citation-detection.service.ts(310,9): error TS2561: Object literal may only specify known properties, but 'citations' does not exist in type 'EditorialDocumentInclude<DefaultArgs>'. Did you mean to write 'Citation'?
src/services/citation/citation-detection.service.ts(321,55): error TS2339: Property 'citations' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/services/citation/citation-detection.service.ts(362,13): error TS2322: Type '{ documentId: string; rawText: string; startOffset: number; endOffset: number; pageNumber: number | null; paragraphIndex: number; citationType: $Enums.CitationType; detectedStyle: $Enums.CitationStyle | null; sectionContext: "BODY" | "REFERENCES" | "FOOTNOTES" | "ENDNOTES" | "ABSTRACT" | "UNKNOWN"; confidence: numbe...' is not assignable to type '(Without<CitationCreateInput, CitationUncheckedCreateInput> & CitationUncheckedCreateInput) | (Without<...> & CitationCreateInput)'.
src/services/citation/citation-detection.service.ts(410,30): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-detection.service.ts(411,30): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-detection.service.ts(437,7): error TS2322: Type '{ tenantId: string; jobId: string; fileName: string; originalName: string; mimeType: string; fileSize: number; storagePath: string; fullText: any; fullHtml: any; wordCount: number; pageCount: number | null; ... 5 more ...; parsedAt: Date; }' is not assignable to type '(Without<EditorialDocumentCreateInput, EditorialDocumentUncheckedCreateInput> & EditorialDocumentUncheckedCreateInput) | (Without<...> & EditorialDocumentCreateInput)'.
src/services/citation/citation-detection.service.ts(471,11): error TS2322: Type '{ documentId: string; rawText: string; citationType: $Enums.CitationType; detectedStyle: $Enums.CitationStyle | null; sectionContext: "BODY" | "REFERENCES" | "FOOTNOTES" | "ENDNOTES" | "ABSTRACT" | "UNKNOWN"; ... 6 more ...; validationErrors: never[]; }' is not assignable to type '(Without<CitationCreateInput, CitationUncheckedCreateInput> & CitationUncheckedCreateInput) | (Without<...> & CitationCreateInput)'.
src/services/citation/citation-parsing.service.ts(33,18): error TS2353: Object literal may only specify known properties, and 'document' does not exist in type 'CitationInclude<DefaultArgs>'.
src/services/citation/citation-parsing.service.ts(41,30): error TS2551: Property 'document' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'. Did you mean 'documentId'?
src/services/citation/citation-parsing.service.ts(67,7): error TS2322: Type '{ citationId: string; parseVariant: $Enums.CitationStyle; confidence: number; authors: string[]; year: string | null; title: string | null; source: string | null; volume: string | null; ... 11 more ...; urlCheckedAt: null; }' is not assignable to type '(Without<CitationComponentCreateInput, CitationComponentUncheckedCreateInput> & CitationComponentUncheckedCreateInput) | (Without<...> & CitationComponentCreateInput)'.
src/services/citation/citation-parsing.service.ts(128,18): error TS2353: Object literal may only specify known properties, and 'components' does not exist in type 'CitationInclude<DefaultArgs>'.
src/services/citation/citation-parsing.service.ts(133,58): error TS2339: Property 'components' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'.
src/services/citation/citation-parsing.service.ts(227,18): error TS2353: Object literal may only specify known properties, and 'document' does not exist in type 'CitationInclude<DefaultArgs>'.
src/services/citation/citation-parsing.service.ts(234,30): error TS2551: Property 'document' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'. Did you mean 'documentId'?
src/services/citation/citation-parsing.service.ts(293,9): error TS2353: Object literal may only specify known properties, and 'document' does not exist in type 'CitationInclude<DefaultArgs>'.
src/services/citation/citation-parsing.service.ts(303,30): error TS2551: Property 'document' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'. Did you mean 'documentId'?
src/services/citation/citation-parsing.service.ts(307,38): error TS2339: Property 'components' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'.
src/services/citation/citation-parsing.service.ts(308,56): error TS2339: Property 'components' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'.
src/services/citation/citation-parsing.service.ts(327,32): error TS2339: Property 'components' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'.
src/services/citation/citation-parsing.service.ts(356,9): error TS2353: Object literal may only specify known properties, and 'components' does not exist in type 'CitationInclude<DefaultArgs>'.
src/services/citation/citation-parsing.service.ts(364,40): error TS2339: Property 'components' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'.
src/services/citation/citation-parsing.service.ts(365,59): error TS2339: Property 'components' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'.
src/services/citation/citation-parsing.service.ts(384,34): error TS2339: Property 'components' does not exist on type '{ id: string; createdAt: Date; updatedAt: Date; isValid: boolean | null; pageNumber: number | null; confidence: number; detectedStyle: CitationStyle | null; ... 12 more ...; validationStatus: string | null; }'.
src/services/citation/citation-style-validation.service.ts(52,9): error TS2353: Object literal may only specify known properties, and 'primaryComponent' does not exist in type 'CitationInclude<DefaultArgs>'.
src/services/citation/citation-style-validation.service.ts(89,11): error TS2322: Type '{ documentId: string; citationId: string; styleCode: string; violationType: string; ruleReference: string; ruleName: string; explanation: string; originalText: string; suggestedFix: string; severity: "info" | ... 1 more ... | "warning"; status: string; }' is not assignable to type '(Without<CitationValidationCreateInput, CitationValidationUncheckedCreateInput> & CitationValidationUncheckedCreateInput) | (Without<...> & CitationValidationCreateInput)'.
src/services/citation/citation-style-validation.service.ts(244,9): error TS2561: Object literal may only specify known properties, but 'citation' does not exist in type 'CitationValidationInclude<DefaultArgs>'. Did you mean to write 'Citation'?
src/services/citation/citation-style-validation.service.ts(251,23): error TS2551: Property 'citation' does not exist on type '{ id: string; createdAt: Date; status: string; severity: string; resolvedBy: string | null; suggestedFix: string; originalText: string; explanation: string | null; citationId: string; ... 6 more ...; violationType: string; }'. Did you mean 'citationId'?
src/services/citation/citation-stylesheet-detection.service.ts(61,7): error TS2322: Type '{ tenantId: string; userId: string; type: "CITATION_DETECTION"; status: "PROCESSING"; input: { fileName: string; fileSize: number; }; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/citation/citation-stylesheet-detection.service.ts(116,7): error TS2322: Type '{ tenantId: string; userId: string; type: "CITATION_DETECTION"; status: "PROCESSING"; input: { fileS3Key: string | undefined; presignedUrl: string | undefined; fileName: string; fileSize: number | undefined; mode: string; }; startedAt: Date; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/citation/citation-stylesheet-detection.service.ts(185,9): error TS2561: Object literal may only specify known properties, but 'citations' does not exist in type 'EditorialDocumentInclude<DefaultArgs>'. Did you mean to write 'Citation'?
src/services/citation/citation-stylesheet-detection.service.ts(197,129): error TS2339: Property 'citations' does not exist on type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; title: string | null; status: EditorialDocStatus; jobId: string; language: string | null; ... 15 more ...; fullHtml: string | null; }'.
src/services/citation/citation-stylesheet-detection.service.ts(774,11): error TS2322: Type '{ documentId: string; rawText: string; citationType: $Enums.CitationType; detectedStyle: $Enums.CitationStyle | null; sectionContext: "BODY" | "REFERENCES" | "FOOTNOTES" | "ENDNOTES" | "ABSTRACT" | "UNKNOWN"; ... 4 more ...; confidence: number; }' is not assignable to type '(Without<CitationCreateInput, CitationUncheckedCreateInput> & CitationUncheckedCreateInput) | (Without<...> & CitationCreateInput)'.
src/services/citation/citation-stylesheet-detection.service.ts(825,32): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-stylesheet-detection.service.ts(826,32): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-stylesheet-detection.service.ts(829,7): error TS2322: Type '{ jobId: string; tenantId: string; fileName: string; originalName: string; mimeType: string; fileSize: number; storagePath: string; fullText: any; fullHtml: any; wordCount: number; pageCount: number | null; ... 5 more ...; parsedAt: Date; }' is not assignable to type '(Without<EditorialDocumentCreateInput, EditorialDocumentUncheckedCreateInput> & EditorialDocumentUncheckedCreateInput) | (Without<...> & EditorialDocumentCreateInput)'.
src/services/citation/citation-stylesheet-detection.service.ts(851,35): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-stylesheet-detection.service.ts(869,34): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-stylesheet-detection.service.ts(870,34): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-stylesheet-detection.service.ts(878,31): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-stylesheet-detection.service.ts(888,43): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-stylesheet-detection.service.ts(889,21): error TS7006: Parameter 'cit' implicitly has an 'any' type.
src/services/citation/citation-stylesheet-detection.service.ts(890,18): error TS7006: Parameter 'cit' implicitly has an 'any' type.
src/services/citation/citation-test.service.ts(150,38): error TS2339: Property 'citationData' does not exist on type 'ParsedDocument'.
src/services/citation/citation-test.service.ts(182,44): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/citation/citation-test.service.ts(186,53): error TS7006: Parameter 'c' implicitly has an 'any' type.
src/services/citation/citation-test.service.ts(186,76): error TS7006: Parameter 'n' implicitly has an 'any' type.
src/services/citation/citation-test.service.ts(187,55): error TS7006: Parameter 'r' implicitly has an 'any' type.
src/services/citation/docx-export.service.ts(11,10): error TS2614: Module '"../../lib/prisma"' has no exported member 'prisma'. Did you mean to use 'import prisma from "../../lib/prisma"' instead?
src/services/citation/docx-exporter.service.ts(57,20): error TS2339: Property 'correctedText' does not exist on type '{ number: number; id: string; createdAt: Date; jobId: string; location: JsonValue; context: string; matchedReferenceId: string | null; }'.
src/services/citation/docx-exporter.service.ts(57,46): error TS2339: Property 'originalText' does not exist on type '{ number: number; id: string; createdAt: Date; jobId: string; location: JsonValue; context: string; matchedReferenceId: string | null; }'.
src/services/citation/docx-exporter.service.ts(59,37): error TS2339: Property 'originalText' does not exist on type '{ number: number; id: string; createdAt: Date; jobId: string; location: JsonValue; context: string; matchedReferenceId: string | null; }'.
src/services/citation/docx-exporter.service.ts(60,20): error TS2339: Property 'correctedText' does not exist on type '{ number: number; id: string; createdAt: Date; jobId: string; location: JsonValue; context: string; matchedReferenceId: string | null; }'.
src/services/citation/docx-exporter.service.ts(99,66): error TS2339: Property 'correctedText' does not exist on type '{ number: number; id: string; createdAt: Date; jobId: string; location: JsonValue; context: string; matchedReferenceId: string | null; }'.
src/services/citation/doi-verifier.service.ts(230,21): error TS2339: Property 'DOI' does not exist on type 'never'.
src/services/citation/reference-list.service.ts(209,11): error TS2322: Type '{ [x: string]: any; documentId: string; citationIds: string[]; sortKey: string; authors: any; year: string | null; title: string; sourceType: string; journalName: string | null; volume: string | null; ... 6 more ...; enrichmentConfidence: number; }' is not assignable to type '(Without<ReferenceListEntryCreateInput, ReferenceListEntryUncheckedCreateInput> & ReferenceListEntryUncheckedCreateInput) | (Without<...> & ReferenceListEntryCreateInput)'.
src/services/citation/reference-list.service.ts(244,11): error TS2322: Type '{ [x: string]: string | number | string[] | null; documentId: string; citationIds: string[]; sortKey: string; authors: never[]; year: null; title: string; sourceType: string; enrichmentSource: string; enrichmentConfidence: number; }' is not assignable to type '(Without<ReferenceListEntryCreateInput, ReferenceListEntryUncheckedCreateInput> & ReferenceListEntryUncheckedCreateInput) | (Without<...> & ReferenceListEntryCreateInput)'.
src/services/citation/reference-list.service.ts(388,18): error TS2353: Object literal may only specify known properties, and 'document' does not exist in type 'ReferenceListEntryInclude<DefaultArgs>'.
src/services/citation/reference-list.service.ts(395,15): error TS2551: Property 'document' does not exist on type '{ issue: string | null; year: string | null; id: string; createdAt: Date; title: string; url: string | null; pages: string | null; sourceType: string; doi: string | null; authors: JsonValue; ... 12 more ...; editedAt: Date | null; }'. Did you mean 'documentId'?
src/services/comparison/comparison.service.ts(21,9): error TS2561: Object literal may only specify known properties, but 'artifacts' does not exist in type 'JobInclude<DefaultArgs>'. Did you mean to write 'Artifact'?
src/services/comparison/comparison.service.ts(185,13): error TS2322: Type '{ jobId: string; taskId: string | undefined; changeNumber: number; issueId: string | undefined; ruleId: string | undefined; filePath: string; elementXPath: string | undefined; lineNumber: number | undefined; ... 10 more ...; status: "APPLIED"; }' is not assignable to type '(Without<RemediationChangeCreateInput, RemediationChangeUncheckedCreateInput> & RemediationChangeUncheckedCreateInput) | (Without<...> & RemediationChangeCreateInput)'.
src/services/epub/batch-remediation.service.ts(104,7): error TS2322: Type '{ id: string; tenantId: string; userId: string; type: "BATCH_VALIDATION"; status: "QUEUED"; input: Prisma.InputJsonValue; output: Prisma.InputJsonValue; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/epub/remediation.service.ts(412,7): error TS2322: Type '{ tenantId: string; userId: string; type: "BATCH_VALIDATION"; status: "COMPLETED"; input: { sourceJobId: string; planType: string; }; output: any; completedAt: Date; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/epub/remediation.service.ts(977,7): error TS2322: Type '{ tenantId: string; userId: string; type: "ACR_WORKFLOW"; status: "PROCESSING"; input: { sourceJobId: string; sourceType: string; }; output: any; startedAt: Date; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/epub/remediation.service.ts(991,9): error TS2322: Type '{ jobId: string; tenantId: string; userId: string; edition: string; documentTitle: string; status: string; }' is not assignable to type '(Without<AcrJobCreateInput, AcrJobUncheckedCreateInput> & AcrJobUncheckedCreateInput) | (Without<...> & AcrJobCreateInput)'.
src/services/epub/remediation.service.ts(1014,11): error TS2322: Type '{ acrJobId: string; criterionId: string; criterionNumber: string; criterionName: string; level: string; confidence: number; aiStatus: string; }' is not assignable to type '(Without<AcrCriterionReviewCreateInput, AcrCriterionReviewUncheckedCreateInput> & AcrCriterionReviewUncheckedCreateInput) | (Without<...> & AcrCriterionReviewCreateInput)'.
src/services/feedback/attachment.service.ts(82,18): error TS2561: Object literal may only specify known properties, but 'feedback' does not exist in type 'FeedbackAttachmentInclude<DefaultArgs>'. Did you mean to write 'Feedback'?
src/services/feedback/attachment.service.ts(89,20): error TS2551: Property 'feedback' does not exist on type '{ id: string; createdAt: Date; filename: string; originalName: string; mimeType: string; size: number; feedbackId: string; uploadedById: string | null; }'. Did you mean 'feedbackId'?
src/services/feedback/attachment.service.ts(95,64): error TS2551: Property 'feedback' does not exist on type '{ id: string; createdAt: Date; filename: string; originalName: string; mimeType: string; size: number; feedbackId: string; uploadedById: string | null; }'. Did you mean 'feedbackId'?
src/services/feedback/attachment.service.ts(174,9): error TS2322: Type '{ feedbackId: string; filename: string; originalName: string; mimeType: string; size: number; uploadedById: string | undefined; }' is not assignable to type '(Without<FeedbackAttachmentCreateInput, FeedbackAttachmentUncheckedCreateInput> & FeedbackAttachmentUncheckedCreateInput) | (Without<...> & FeedbackAttachmentCreateInput)'.
src/services/feedback/attachment.service.ts(183,11): error TS2353: Object literal may only specify known properties, and 'uploadedBy' does not exist in type 'FeedbackAttachmentInclude<DefaultArgs>'.
src/services/feedback/attachment.service.ts(205,9): error TS2353: Object literal may only specify known properties, and 'uploadedBy' does not exist in type 'FeedbackAttachmentInclude<DefaultArgs>'.
src/services/feedback/attachment.service.ts(216,18): error TS2561: Object literal may only specify known properties, but 'feedback' does not exist in type 'FeedbackAttachmentInclude<DefaultArgs>'. Did you mean to write 'Feedback'?
src/services/feedback/attachment.service.ts(403,7): error TS2322: Type '{ feedbackId: string; filename: string; originalName: string; mimeType: string; size: number; uploadedById: string | null; }' is not assignable to type '(Without<FeedbackAttachmentCreateInput, FeedbackAttachmentUncheckedCreateInput> & FeedbackAttachmentUncheckedCreateInput) | (Without<...> & FeedbackAttachmentCreateInput)'.
src/services/feedback/feedback.service.ts(114,7): error TS2322: Type '{ tenantId: string; userId: string | undefined; userEmail: string | undefined; type: $Enums.FeedbackType; rating: number | undefined; comment: string; context: any; metadata: any; status: "NEW"; }' is not assignable to type '(Without<FeedbackCreateInput, FeedbackUncheckedCreateInput> & FeedbackUncheckedCreateInput) | (Without<...> & FeedbackCreateInput)'.
src/services/feedback/feedback.service.ts(135,9): error TS2561: Object literal may only specify known properties, but 'user' does not exist in type 'FeedbackInclude<DefaultArgs>'. Did you mean to write 'User'?
src/services/feedback/feedback.service.ts(163,5): error TS2322: Type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; type: FeedbackType; status: FeedbackStatus; metadata: JsonValue; ... 7 more ...; respondedAt: Date | null; } | null' is not assignable to type 'FeedbackWithUser | null'.
src/services/feedback/feedback.service.ts(203,11): error TS2561: Object literal may only specify known properties, but 'user' does not exist in type 'FeedbackInclude<DefaultArgs>'. Did you mean to write 'User'?
src/services/feedback/feedback.service.ts(233,7): error TS2322: Type '{ id: string; tenantId: string; createdAt: Date; updatedAt: Date; type: FeedbackType; status: FeedbackStatus; metadata: JsonValue; ... 7 more ...; respondedAt: Date | null; }[]' is not assignable to type 'FeedbackWithUser[]'.
src/services/file.service.ts(22,7): error TS2322: Type '{ originalName: string; filename: string; mimeType: string; size: number; path: string; status: "UPLOADED"; tenantId: string; }' is not assignable to type '(Without<FileCreateInput, FileUncheckedCreateInput> & FileUncheckedCreateInput) | (Without<...> & FileCreateInput)'.
src/services/queue.service.ts(74,7): error TS2322: Type '{ type: JobType; status: "QUEUED"; priority: number; input: Prisma.InputJsonValue; tenantId: string; userId: string; productId: string | undefined; }' is not assignable to type '(Without<JobCreateInput, JobUncheckedCreateInput> & JobUncheckedCreateInput) | (Without<JobUncheckedCreateInput, JobCreateInput> & JobCreateInput)'.
src/services/queue.service.ts(167,42): error TS2345: Argument of type 'import("C:/Users/sakthivelv/ninja-backend/node_modules/.prisma/client/index").$Enums.JobType' is not assignable to parameter of type 'import("C:/Users/sakthivelv/ninja-backend/src/queues/index").JobType'.
```

### ESLint Issues:

**C:\Users\sakthivelv\ninja-backend\src\controllers\editorial-overview.controller.ts**
- Line 844: 'fileName' is assigned a value but never used. (@typescript-eslint/no-unused-vars)


**C:\Users\sakthivelv\ninja-backend\src\services\citation\citation-detection.service.ts**
- Line 14: 'DetectionInput' is defined but never used. (@typescript-eslint/no-unused-vars)


**C:\Users\sakthivelv\ninja-backend\src\services\citation\citation-stylesheet-detection.service.ts**
- Line 16: 'styleRulesService' is defined but never used. (@typescript-eslint/no-unused-vars)


**C:\Users\sakthivelv\ninja-backend\src\services\shared\document-parser.ts**
- Line 263: '_paragraphIndex' is assigned a value but never used. (@typescript-eslint/no-unused-vars)


**C:\Users\sakthivelv\ninja-backend\src\services\shared\editorial-ai-client.ts**
- Line 145: 'innerText' is assigned a value but never used. (@typescript-eslint/no-unused-vars)
- Line 261: 'detectedStyle' is defined but never used. Allowed unused args must match /^_/u. (@typescript-eslint/no-unused-vars)
- Line 928: Unexpected any. Specify a different type. (@typescript-eslint/no-explicit-any)
- Line 960: '_' is defined but never used. (@typescript-eslint/no-unused-vars)
- Line 978: '_' is defined but never used. (@typescript-eslint/no-unused-vars)


**C:\Users\sakthivelv\ninja-backend\src\utils\citation-highlighter.ts**
- Line 165: 'displayKey' is assigned a value but never used. (@typescript-eslint/no-unused-vars)



## Fix Instructions:

1. **TypeScript Errors**: Add proper types, fix imports, resolve type mismatches
2. **ESLint Issues**: Fix formatting, remove unused code, follow best practices
3. **Security Issues**: Remove hardcoded secrets, fix XSS vulnerabilities
4. **Complexity**: Consider breaking down large functions (suggest only, don't auto-refactor)

## Safety Rules:
- DO NOT change business logic
- DO NOT remove functionality
- DO NOT modify API contracts
- Maintain backward compatibility
- Keep test coverage

## Verification:
After fixing:
- Run: npx tsc --noEmit
- Run: npm run lint
- Run: npm test
